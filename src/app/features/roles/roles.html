<app-panel-page-header
  (addButtonClick)="openRoleForm()"
  [showAddButton]="hasManageRolePermission()"
  addButtonLabel="roles.addButton"
  title="roles.title"
/>

<app-roles-table
  [roles]="roles()"
  [loading]="loading()"
  [paginator]="false"
  [actionsColumnTemplate]="actionsColumnTemplate"
/>

<ng-template #actionsColumnTemplate let-role>
  <div class="flex gap-2">
    <p-button
      [disabled]="!hasManageRolePermission()"
      icon="pi pi-pencil"
      rounded
      text
      (onClick)="openRoleForm(role)"
    />
    <p-button
      [disabled]="!hasManageRolePermission()"
      [routerLink]="rolePermissionsPath(role.id)"
      icon="pi pi-check-square"
      rounded
      text
    />
    <p-button
      [disabled]="!hasManageUserRolesPermission()"
      [routerLink]="roleUsersPath(role.id)"
      icon="pi pi-users"
      rounded
      text
    />
  </div>
</ng-template>
