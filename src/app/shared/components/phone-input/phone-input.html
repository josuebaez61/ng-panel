<div #container class="phone-input-container flex gap-2 w-full relative">
  <p-autocomplete
    [dropdown]="true"
    [dropdownMode]="'blank'"
    [suggestions]="filteredPhoneCodes()"
    (completeMethod)="filterPhoneCodes($event)"
    [ngModel]="selectedCountryCode"
    (ngModelChange)="onCountryCodeChange($event)"
    [disabled]="disabled"
    optionLabel="label"
    [style]="{ width: '140px' }"
    [showClear]="false"
    [placeholder]="'phoneInput.selectCountry' | translate"
    [emptyMessage]="'phoneInput.noCountriesFound' | translate"
    class="phone-code-selector"
    [appendTo]="appendToValue()"
    panelStyleClass="phone-code-autocomplete-panel"
  >
    <ng-template let-option #item>
      <div class="flex items-center gap-1.5">
        <img [src]="option.flagUrl" [alt]="option.iso2" class="flag-icon-dropdown" />
        <span>{{ option.phoneCode }}</span>
      </div>
    </ng-template>
  </p-autocomplete>
  <input
    #phoneInput
    pInputText
    type="text"
    [value]="phoneNumber"
    (input)="onPhoneNumberInput($event)"
    (keypress)="onPhoneNumberKeyPress($event)"
    [disabled]="disabled"
    class="flex-1 phone-number-input"
    [placeholder]="phonePlaceholder()"
  />
</div>
