<div class="flex flex-wrap gap-2">
  @for (role of _roles(); track role.id) {
  <p-chip
    [label]="role.name"
    [removable]="enableEditRoles()"
    (onRemove)="loading() ? null : onRoleRemove(role)"
  />
  } @if (enableEditRoles()) {
  <p-chip
    icon="pi pi-plus"
    [removable]="false"
    (click)="loading() ? null : toggleRoleSelection($event)"
  />
  }
</div>

<!-- Role Selection Popover -->
<p-popover #op>
  @if (loading()) {
  <div class="flex flex-col gap-2">
    <p-skeleton height="50px" width="200px" />
    <p-skeleton height="40px" width="200px" />
  </div>
  } @else {
  <app-role-selection
    ngModel
    [roles]="assignableRoles()"
    (ngModelChange)="onRoleSelectionChange($event)"
  />
  }
</p-popover>
